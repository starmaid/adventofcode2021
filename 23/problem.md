template

#############
#...........#
###D#C#A#B###
  #B#C#D#A#
  #########

#############
#.........B.#
###D#C#A# ###
  #B#C#D#A#  20
  #########

#############
#A........B.#
###D#C#A# ###
  #B#C#D# #    10
  #########

#############
#AA.......B.#
###D#C#.# ###
  #B#C#D# #   6
  #########

#############
#AA.......B.#
###D#C#.# ###  6000
  #B#C# #D#
  #########

#############
#AA.......B.#
### #C#.#D###
  #B#C# #D#     8000
  #########

#############
#AA.......B.#
### # #C#D### 
  #B# #C#D#    2 moves
  #########     1000

#############
#AA.......B.#
### # #C#D###
  # #B#C#D#     60
  #########

#############
#.........B.#
###A# #C#D###  2 moves
  #A#B#C#D#    6
  #########

#############
#...........#
###A#B#C#D###  60
  #A#B#C#D#   
  #########

15162 is too high



#############
#.A.........#
###D#C#.#B###   6
  #B#C#D#A#
  #########

#############
#.A.B.......#
###D#C#.#.###  60
  #B#C#D#A#
  #########

#############
#.A.B.....A.#
###D#C#.#.###  4 NOPE 3
  #B#C#D#.#
  #########

#############
#.A.B.....A.#
###D#C#.#.###  6000
  #B#C#.#D#
  #########

#############
#.A.B.....A.#
###D#.#C#.###  1000
  #B#.#C#D#  2 mov
  #########

#############
#.A.......A.#
###D#.#C#.###  30
  #B#B#C#D#
  #########

#############
#.A.......A.#
###.#.#C#D###  8000
  #B#B#C#D#
  #########

#############
#.A.......A.#
###.#B#C#D###  50
  #.#B#C#D#
  #########

#############
#...........#
###A#B#C#D###  3+8
  #A#B#C#D#   2 move
  #########


15161 Too High!!!!!!

YOU IDIOT YOU COUNTED WRONG



PART 2

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#AA.......CB#
###D#C#A#.###
  #D#C#B#.#
  #D#B#A#.#
  #B#C#D#.#
  #########

#############
#AA.......CB#
###.#C#A#.###
  #.#C#B#D#
  #.#B#A#D#
  #B#C#D#D#
  #########

This is not the way.

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#A..B.....DA#
###D#C#.#B###
  #D#C#.#A#  4m
  #D#B#.#C#
  #B#C#.#A#
  #########

#############
#A..B.....DA#
###D#.#.#B###
  #D#.#.#A#  2m
  #D#B#C#C#
  #B#C#C#A#
  #########

#############
#A..B...B.DA#
###D#.#.#B###
  #D#.#.#A#
  #D#.#C#C#
  #B#C#C#A#
  #########

#############
#A..B...B.DA#
###D#.#.#B###
  #D#.#C#A#
  #D#.#C#C#
  #B#.#C#A#
  #########

#############
#A........DA#
###D#.#.#B###
  #D#.#C#A#
  #D#B#C#C#
  #B#B#C#A#  2 m
  #########

#############
#A........DA#
###D#.#.#.###
  #D#B#C#A#
  #D#B#C#C#
  #B#B#C#A#
  #########

#############
#AA.......DA#
###D#.#.#.###
  #D#B#C#.#
  #D#B#C#C#
  #B#B#C#A#
  #########

#############
#AA.......DA#
###D#.#C#.###
  #D#B#C#.#
  #D#B#C#.#
  #B#B#C#A#
  #########


NOPE IMPOSSIBLE

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#AB.......DA#
###D#C#.#B###
  #D#C#.#A#  4m
  #D#B#.#C#
  #B#C#.#A#
  #########

#############
#AB.B.....DA#
###D#C#.#.###
  #D#C#.#A#  
  #D#B#.#C#
  #B#C#.#A#
  #########

#############
#AB.B.....DA#
###D#.#.#.###
  #D#.#.#A#  2M
  #D#B#C#C#
  #B#C#C#A#
  #########

#############
#AB.B...B.DA#
###D#.#.#.###
  #D#.#.#A#  
  #D#.#C#C#
  #B#C#C#A#
  #########

#############
#AB.B...B.DA#
###D#.#.#.###
  #D#.#C#A#  
  #D#.#C#C#
  #B#.#C#A#
  #########

#############
#AB.......DA#
###D#.#.#.###
  #D#.#C#A#  2M
  #D#B#C#C#
  #B#B#C#A#
  #########

#############
#A........DA#
###D#.#.#.###
  #D#B#C#A#  
  #D#B#C#C#
  #B#B#C#A#
  #########

#############
#AA.......DA#
###D#.#.#.###
  #D#B#C#.#  
  #D#B#C#C#
  #B#B#C#A#
  #########

#############
#AA.......DA#
###D#.#C#.###
  #D#B#C#.#  
  #D#B#C#.#
  #B#B#C#A#
  #########

#############
#AA.......DA#
###D#.#C#.###
  #D#B#C#.#  
  #D#B#C#.#
  #B#B#C#A#
  #########



IMPOSSIBLE PART 2 

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#AB........A#
###D#C#.#B###
  #D#C#.#A#  3m
  #D#B#.#C#
  #B#C#D#A#
  #########

#############
#AB.B......A#
###D#C#.#.###
  #D#C#.#A#  
  #D#B#.#C#
  #B#C#D#A#
  #########

#############
#AB.B.....AA#
###D#C#.#.###
  #D#C#.#.#  
  #D#B#.#C#
  #B#C#D#A#
  #########

#############
#AB.B.....AA#
###D#C#.#.###
  #D#C#.#.#  
  #D#B#.#C#
  #B#C#D#A#
  #########



IMPOSSIBLE

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#.........CC#
###D#.#A#B###
  #D#.#B#A#  2M
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#AB.......CC#
###D#.#.#B###
  #D#.#.#A#  2M
  #D#B#A#C#
  #B#C#D#A#
  #########



NEW WAY

#############
#...........#
###D#C#A#B###
  #D#C#B#A#
  #D#B#A#C#
  #B#C#D#A#
  #########

#############
#BA.......AC#
###D#C#A#.###
  #D#C#B#.#  4M
  #D#B#A#.#
  #B#C#D#.#
  #########

#############
#BA.......AC#
###.#C#A#.###
  #.#C#B#D#  3M
  #.#B#A#D#
  #B#C#D#D#
  #########

#############
#BA.....B.AC#
###.#C#A#.###
  #.#C#B#D#  
  #.#B#A#D#
  #.#C#D#D#
  #########

#############
#B......B.AC#
###.#C#A#.###
  #.#C#B#D#  
  #.#B#A#D#
  #A#C#D#D#
  #########

#############
#B......B.AC#
###.#C#A#.###
  #.#C#B#D#  
  #.#B#A#D#
  #A#C#D#D#
  #########